{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../review.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../teach-header/teach-header.component\";\nimport * as i4 from \"@angular/forms\";\nexport let ReviewComponent = /*#__PURE__*/(() => {\n  class ReviewComponent {\n    constructor(reviewService, router) {\n      this.reviewService = reviewService;\n      this.router = router;\n      this.selectedVal = 0;\n    }\n\n    ngOnInit() {\n      this.getTitle();\n    }\n\n    onSubmit(f) {\n      let user = \"\";\n      let url = window.location.href.split('/');\n      let role = '';\n\n      for (let i = 0; i < url.length; i++) {\n        if (url[i] == 'teacher') {\n          user = url[i + 1];\n          role = 'teacher';\n        } else if (url[i] == 'student') {\n          user = url[i + 1];\n          role = 'student';\n        }\n      }\n\n      ;\n      let desc = f.value['review'];\n      this.reviewService.createReview(user, this.reviewMovie, this.selectedVal, desc);\n\n      if (role == 'teacher') {\n        //window.location.href = '/teacher/' + user + '/reviews';\n        this.router.navigate(['/teacher/' + user + '/reviews']);\n      } else if (role == 'student') {\n        this.router.navigate(['/student/' + user]); //window.location.href = '/student/' + user;\n      }\n    }\n\n    getTitle() {\n      let params = new URLSearchParams(window.location.search);\n      let movie = params.get('title');\n      this.reviewMovie = movie;\n    }\n\n    radioChangeHandler(event) {\n      this.selectedVal = event.target.value;\n    }\n\n  }\n\n  ReviewComponent.ɵfac = function ReviewComponent_Factory(t) {\n    return new (t || ReviewComponent)(i0.ɵɵdirectiveInject(i1.ReviewService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  ReviewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ReviewComponent,\n    selectors: [[\"app-review\"]],\n    decls: 42,\n    vars: 2,\n    consts: [[1, \"container\"], [3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"rate\"], [\"type\", \"radio\", \"id\", \"star10\", \"name\", \"rate\", \"value\", \"10\", 3, \"change\"], [\"for\", \"star10\", \"title\", \"text\"], [\"type\", \"radio\", \"id\", \"star9\", \"name\", \"rate\", \"value\", \"9\", 3, \"change\"], [\"for\", \"star9\", \"title\", \"text\"], [\"type\", \"radio\", \"id\", \"star8\", \"name\", \"rate\", \"value\", \"8\", 3, \"change\"], [\"for\", \"star8\", \"title\", \"text\"], [\"type\", \"radio\", \"id\", \"star7\", \"name\", \"rate\", \"value\", \"7\", 3, \"change\"], [\"for\", \"star7\", \"title\", \"text\"], [\"type\", \"radio\", \"id\", \"star6\", \"name\", \"rate\", \"value\", \"6\", 3, \"change\"], [\"for\", \"star6\", \"title\", \"text\"], [\"type\", \"radio\", \"id\", \"star5\", \"name\", \"rate\", \"value\", \"5\", 3, \"change\"], [\"for\", \"star5\", \"title\", \"text\"], [\"type\", \"radio\", \"id\", \"star4\", \"name\", \"rate\", \"value\", \"4\", 3, \"change\"], [\"for\", \"star4\", \"title\", \"text\"], [\"type\", \"radio\", \"id\", \"star3\", \"name\", \"rate\", \"value\", \"3\", 3, \"change\"], [\"for\", \"star3\", \"title\", \"text\"], [\"type\", \"radio\", \"id\", \"star2\", \"name\", \"rate\", \"value\", \"2\", 3, \"change\"], [\"for\", \"star2\", \"title\", \"text\"], [\"type\", \"radio\", \"id\", \"star1\", \"name\", \"rate\", \"value\", \"1\", 3, \"change\"], [\"for\", \"star1\", \"title\", \"text\"], [\"id\", \"exampleFormControlTextarea1\", \"rows\", \"3\", \"placeholder\", \"Write Your Review Here!\", \"name\", \"review\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [\"review\", \"ngModel\"], [1, \"text-center\", \"mb-3\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"]],\n    template: function ReviewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r2 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelement(0, \"app-teach-header\");\n        i0.ɵɵelementStart(1, \"h1\");\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 0)(4, \"form\", 1, 2);\n        i0.ɵɵlistener(\"ngSubmit\", function ReviewComponent_Template_form_ngSubmit_4_listener() {\n          i0.ɵɵrestoreView(_r2);\n\n          const _r0 = i0.ɵɵreference(5);\n\n          return ctx.onSubmit(_r0);\n        });\n        i0.ɵɵelementStart(6, \"div\", 3)(7, \"input\", 4);\n        i0.ɵɵlistener(\"change\", function ReviewComponent_Template_input_change_7_listener($event) {\n          return ctx.radioChangeHandler($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"label\", 5);\n        i0.ɵɵtext(9, \"10 stars\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"input\", 6);\n        i0.ɵɵlistener(\"change\", function ReviewComponent_Template_input_change_10_listener($event) {\n          return ctx.radioChangeHandler($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"label\", 7);\n        i0.ɵɵtext(12, \"9 stars\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"input\", 8);\n        i0.ɵɵlistener(\"change\", function ReviewComponent_Template_input_change_13_listener($event) {\n          return ctx.radioChangeHandler($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"label\", 9);\n        i0.ɵɵtext(15, \"8 stars\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"input\", 10);\n        i0.ɵɵlistener(\"change\", function ReviewComponent_Template_input_change_16_listener($event) {\n          return ctx.radioChangeHandler($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"label\", 11);\n        i0.ɵɵtext(18, \"7 stars\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"input\", 12);\n        i0.ɵɵlistener(\"change\", function ReviewComponent_Template_input_change_19_listener($event) {\n          return ctx.radioChangeHandler($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"label\", 13);\n        i0.ɵɵtext(21, \"6 star\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"input\", 14);\n        i0.ɵɵlistener(\"change\", function ReviewComponent_Template_input_change_22_listener($event) {\n          return ctx.radioChangeHandler($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"label\", 15);\n        i0.ɵɵtext(24, \"5 stars\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"input\", 16);\n        i0.ɵɵlistener(\"change\", function ReviewComponent_Template_input_change_25_listener($event) {\n          return ctx.radioChangeHandler($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"label\", 17);\n        i0.ɵɵtext(27, \"4 stars\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"input\", 18);\n        i0.ɵɵlistener(\"change\", function ReviewComponent_Template_input_change_28_listener($event) {\n          return ctx.radioChangeHandler($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"label\", 19);\n        i0.ɵɵtext(30, \"3 stars\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"input\", 20);\n        i0.ɵɵlistener(\"change\", function ReviewComponent_Template_input_change_31_listener($event) {\n          return ctx.radioChangeHandler($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"label\", 21);\n        i0.ɵɵtext(33, \"2 stars\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"input\", 22);\n        i0.ɵɵlistener(\"change\", function ReviewComponent_Template_input_change_34_listener($event) {\n          return ctx.radioChangeHandler($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"label\", 23);\n        i0.ɵɵtext(36, \"1 star\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(37, \"textarea\", 24, 25);\n        i0.ɵɵelementStart(39, \"div\", 26)(40, \"button\", 27);\n        i0.ɵɵtext(41, \"Submit\");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(5);\n\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Share your thoughts on \", ctx.reviewMovie, \"!\");\n        i0.ɵɵadvance(38);\n        i0.ɵɵproperty(\"disabled\", _r0.invalid);\n      }\n    },\n    directives: [i3.TeachHeaderComponent, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i4.RequiredValidator],\n    styles: [\"h1[_ngcontent-%COMP%]{text-align:center;margin-top:75px}.rate[_ngcontent-%COMP%]{float:left;height:46px;padding:0;margin-bottom:20px;margin-top:10px}.rate[_ngcontent-%COMP%]:before{content:\\\"Please rate the movie from 0-10 Stars:         \\\";padding-right:45px;position:relative;top:10px;font-weight:700;font-size:20px}.rate[_ngcontent-%COMP%]:not(:checked) > input[_ngcontent-%COMP%]{position:absolute;top:-9999px}.rate[_ngcontent-%COMP%]:not(:checked) > label[_ngcontent-%COMP%]{float:right;width:1em;overflow:hidden;white-space:nowrap;cursor:pointer;font-size:30px;color:#ccc}.rate[_ngcontent-%COMP%]:not(:checked) > label[_ngcontent-%COMP%]:before{content:\\\"\\\\2605  \\\"}.rate[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:#ffc700}.rate[_ngcontent-%COMP%]:not(:checked) > label[_ngcontent-%COMP%]:hover, .rate[_ngcontent-%COMP%]:not(:checked) > label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%]{color:#deb217}.rate[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:hover, .rate[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%], .rate[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:hover, .rate[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%], .rate[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:hover ~ input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:#c59b08}p[_ngcontent-%COMP%]{margin-bottom:0}button[_ngcontent-%COMP%]{margin:15px auto 25px;width:25vw}\"]\n  });\n  return ReviewComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}