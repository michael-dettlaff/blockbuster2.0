{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\dettl\\\\Downloads\\\\cs402\\\\mock-final\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../movie.service\";\nimport * as i2 from \"../student-header/student-header.component\";\nexport class StudentMovieSearchComponent {\n  constructor(movieService) {\n    this.movieService = movieService;\n  }\n\n  ngOnInit() {}\n\n  onSubmit(f) {//this.searchMovie(f.value['title']);\n  }\n\n  searchMovie(title) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.movieService.getMovie(title).subscribe(movie => {\n        if (Object.keys(movie).length < 4) {\n          console.log('movie not in db');\n          alert(\"This movie isn't in the database :( \");\n        } else {\n          console.log(movie);\n          _this.movies = movie;\n          let titleCopy = _this.movies['Title'];\n          console.log(titleCopy);\n          titleCopy = titleCopy.replace(/ /g, '+');\n          window.location.hash = titleCopy;\n        }\n      });\n    })();\n  }\n\n}\n\nStudentMovieSearchComponent.ɵfac = function StudentMovieSearchComponent_Factory(t) {\n  return new (t || StudentMovieSearchComponent)(i0.ɵɵdirectiveInject(i1.MovieService));\n};\n\nStudentMovieSearchComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StudentMovieSearchComponent,\n  selectors: [[\"app-student-movie-search\"]],\n  decls: 1,\n  vars: 0,\n  template: function StudentMovieSearchComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-student-header\");\n    }\n  },\n  directives: [i2.StudentHeaderComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzdHVkZW50LW1vdmllLXNlYXJjaC5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"sources":["C:/Users/dettl/Downloads/cs402/mock-final/client/src/app/student-movie-search/student-movie-search.component.ts"],"names":["i0","i1","i2","StudentMovieSearchComponent","constructor","movieService","ngOnInit","onSubmit","f","searchMovie","title","getMovie","subscribe","movie","Object","keys","length","console","log","alert","movies","titleCopy","replace","window","location","hash","ɵfac","StudentMovieSearchComponent_Factory","t","ɵɵdirectiveInject","MovieService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","template","StudentMovieSearchComponent_Template","rf","ctx","ɵɵelement","directives","StudentHeaderComponent","styles"],"mappings":";AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,kBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,4CAApB;AACA,OAAO,MAAMC,2BAAN,CAAkC;AACrCC,EAAAA,WAAW,CAACC,YAAD,EAAe;AACtB,SAAKA,YAAL,GAAoBA,YAApB;AACH;;AACDC,EAAAA,QAAQ,GAAG,CACV;;AACDC,EAAAA,QAAQ,CAACC,CAAD,EAAI,CACR;AACH;;AACKC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAAA;;AAAA;AACrB,MAAA,KAAI,CAACL,YAAL,CAAkBM,QAAlB,CAA2BD,KAA3B,EACKE,SADL,CACeC,KAAK,IAAI;AACpB,YAAIC,MAAM,CAACC,IAAP,CAAYF,KAAZ,EAAmBG,MAAnB,GAA4B,CAAhC,EAAmC;AAC/BC,UAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAC,UAAAA,KAAK,CAAC,sCAAD,CAAL;AACH,SAHD,MAIK;AACDF,UAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACA,UAAA,KAAI,CAACO,MAAL,GAAcP,KAAd;AACA,cAAIQ,SAAS,GAAG,KAAI,CAACD,MAAL,CAAY,OAAZ,CAAhB;AACAH,UAAAA,OAAO,CAACC,GAAR,CAAYG,SAAZ;AACAA,UAAAA,SAAS,GAAGA,SAAS,CAACC,OAAV,CAAkB,IAAlB,EAAwB,GAAxB,CAAZ;AACAC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBJ,SAAvB;AACH;AACJ,OAdD;AADqB;AAgBxB;;AAzBoC;;AA2BzClB,2BAA2B,CAACuB,IAA5B,GAAmC,SAASC,mCAAT,CAA6CC,CAA7C,EAAgD;AAAE,SAAO,KAAKA,CAAC,IAAIzB,2BAAV,EAAuCH,EAAE,CAAC6B,iBAAH,CAAqB5B,EAAE,CAAC6B,YAAxB,CAAvC,CAAP;AAAuF,CAA5K;;AACA3B,2BAA2B,CAAC4B,IAA5B,GAAmC,aAAc/B,EAAE,CAACgC,iBAAH,CAAqB;AAAEC,EAAAA,IAAI,EAAE9B,2BAAR;AAAqC+B,EAAAA,SAAS,EAAE,CAAC,CAAC,0BAAD,CAAD,CAAhD;AAAgFC,EAAAA,KAAK,EAAE,CAAvF;AAA0FC,EAAAA,IAAI,EAAE,CAAhG;AAAmGC,EAAAA,QAAQ,EAAE,SAASC,oCAAT,CAA8CC,EAA9C,EAAkDC,GAAlD,EAAuD;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AAChPvC,MAAAA,EAAE,CAACyC,SAAH,CAAa,CAAb,EAAgB,oBAAhB;AACH;AAAE,GAF+D;AAE7DC,EAAAA,UAAU,EAAE,CAACxC,EAAE,CAACyC,sBAAJ,CAFiD;AAEpBC,EAAAA,MAAM,EAAE,CAAC,yLAAD;AAFY,CAArB,CAAjD","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../movie.service\";\r\nimport * as i2 from \"../student-header/student-header.component\";\r\nexport class StudentMovieSearchComponent {\r\n    constructor(movieService) {\r\n        this.movieService = movieService;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    onSubmit(f) {\r\n        //this.searchMovie(f.value['title']);\r\n    }\r\n    async searchMovie(title) {\r\n        this.movieService.getMovie(title)\r\n            .subscribe(movie => {\r\n            if (Object.keys(movie).length < 4) {\r\n                console.log('movie not in db');\r\n                alert(\"This movie isn't in the database :( \");\r\n            }\r\n            else {\r\n                console.log(movie);\r\n                this.movies = movie;\r\n                let titleCopy = this.movies['Title'];\r\n                console.log(titleCopy);\r\n                titleCopy = titleCopy.replace(/ /g, '+');\r\n                window.location.hash = titleCopy;\r\n            }\r\n        });\r\n    }\r\n}\r\nStudentMovieSearchComponent.ɵfac = function StudentMovieSearchComponent_Factory(t) { return new (t || StudentMovieSearchComponent)(i0.ɵɵdirectiveInject(i1.MovieService)); };\r\nStudentMovieSearchComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: StudentMovieSearchComponent, selectors: [[\"app-student-movie-search\"]], decls: 1, vars: 0, template: function StudentMovieSearchComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelement(0, \"app-student-header\");\r\n    } }, directives: [i2.StudentHeaderComponent], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzdHVkZW50LW1vdmllLXNlYXJjaC5jb21wb25lbnQuY3NzIn0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}